apiVersion: 1

datasources:
  - name: ClickHouse
    type: grafana-clickhouse-datasource
    jsonData:
      defaultDatabase: otel
      port: 9440
      server: clickhouse
      username: grafana_reader
      tlsAuth: true
      tlsAuthWithCACert: true
      tlsSkipVerify: true
      logs:
        defaultDatabase: otel
        defaultTable: otel_logs
        otelEnabled: true
        otelVersion: latest
        selectContextColumns: true
        contextColumns:
          - ServiceName
      traces:
        defaultDatabase: otel
        defaultTable: otel_traces
        otelEnabled: true
        otelVersion: latest
    secureJsonData:
      tlsCACert: |
        $__file{/etc/grafana/certs/minica.pem}
      tlsClientCert: |
        $__file{/etc/grafana/certs/grafana/cert.pem}
      tlsClientKey: |
        $__file{/etc/grafana/certs/grafana/key.pem}
    isDefault: true
    editable: true
